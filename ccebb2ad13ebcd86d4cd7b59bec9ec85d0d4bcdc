{
  "comments": [
    {
      "key": {
        "uuid": "448490cc_fa8a2cf7",
        "filename": "cvfm/clients/vnc.py",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 126
      },
      "writtenOn": "2020-08-12T19:05:10Z",
      "side": 1,
      "message": "It may so happen that the api server may be busy and the timeout 180 may not be sufficient to get the list of all VMIs.\nRather I suppose we should be directly reading from DB like other config services (schema transformer, svc monitor, device manager etal). Can you please sync up with the config team on the same.",
      "revId": "ccebb2ad13ebcd86d4cd7b59bec9ec85d0d4bcdc",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "490131b3_96904c6a",
        "filename": "cvfm/clients/vnc.py",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 64
      },
      "writtenOn": "2020-08-12T21:11:08Z",
      "side": 1,
      "message": "There are two timeouts, one for connection (CONNECTION_TIMEOUT) and timeout (for CRUD)\nI suppose assuming 180s to READ all data during REINIT may not be a good idea. Have you tried any scale setups?",
      "revId": "ccebb2ad13ebcd86d4cd7b59bec9ec85d0d4bcdc",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d0b0caa8_534fdf77",
        "filename": "cvfm/clients/vnc.py",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 56
      },
      "writtenOn": "2020-08-12T23:21:16Z",
      "side": 1,
      "message": "Yes Adrian, is there any limitation with cvfm for not reading from DB, similar to https://github.com/Juniper/contrail-controller/blob/master/src/config/schema-transformer/schema_transformer/to_bgp.py#L298",
      "parentUuid": "448490cc_fa8a2cf7",
      "revId": "ccebb2ad13ebcd86d4cd7b59bec9ec85d0d4bcdc",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f865558f_fb62044a",
        "filename": "cvfm/clients/vnc.py",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 582
      },
      "writtenOn": "2020-08-13T13:29:55Z",
      "side": 1,
      "message": "If there is a way to operate on DB directly and it\u0027s consistent with what API Server does, it can be done. But it\u0027s a huge change and I don\u0027t think it should be done as a part of this review.",
      "parentUuid": "d0b0caa8_534fdf77",
      "revId": "ccebb2ad13ebcd86d4cd7b59bec9ec85d0d4bcdc",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0aa0be27_4b88f340",
        "filename": "cvfm/clients/vnc.py",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 582
      },
      "writtenOn": "2020-08-13T13:29:55Z",
      "side": 1,
      "message": "Is it ok if I just remove this timeout parameter and leave this part as it is now? I put it in here, because it was a part of the patch included in the ticket - I assumed it\u0027s a safe value.",
      "parentUuid": "490131b3_96904c6a",
      "revId": "ccebb2ad13ebcd86d4cd7b59bec9ec85d0d4bcdc",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f0a19ba_79bbb87e",
        "filename": "cvfm/clients/vnc.py",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 56
      },
      "writtenOn": "2020-08-13T21:38:23Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "f865558f_fb62044a",
      "revId": "ccebb2ad13ebcd86d4cd7b59bec9ec85d0d4bcdc",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a6620372_8814a51a",
        "filename": "cvfm/clients/vnc.py",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 64
      },
      "writtenOn": "2020-08-13T21:50:34Z",
      "side": 1,
      "message": "@Adrian\nmy only concern is that you seem to assume 180s or default timeout (120s) is suffice when you perform read_all_vns, read_all_vmis, read_all_vpgs. So i was asking if this was tested again scale setups.\nI understand these reads were not actually a part of this patch. you can take your own decision here :)",
      "parentUuid": "0aa0be27_4b88f340",
      "revId": "ccebb2ad13ebcd86d4cd7b59bec9ec85d0d4bcdc",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    }
  ]
}